# Règles de Développement - Invest Infinity Frontend

## Migrations Supabase

**IMPORTANT : Application Automatique des Migrations**

Quand je crée ou modifie une migration SQL dans `supabase/migrations/`, je DOIS :
1. ✅ Appliquer automatiquement la migration via MCP Supabase (`mcp_Supabase_butcher_apply_migration`)
2. ✅ Vérifier que la migration a été appliquée avec succès
3. ✅ Ne JAMAIS laisser une migration non appliquée

**Processus automatique :**
- Dès qu'une migration est créée/modifiée → l'appliquer immédiatement via MCP
- Utiliser `mcp_Supabase_butcher_apply_migration` avec le project_id
- Vérifier avec une requête SQL que les changements sont bien appliqués
- Informer l'utilisateur que la migration est appliquée

**Exception :** Si MCP n'est pas disponible, documenter clairement que la migration doit être appliquée manuellement.

## Conventions de Code

- TypeScript strict mode
- Utiliser les types Supabase générés (`Tables<'table_name'>`)
- Gérer les erreurs avec try/catch et messages utilisateur clairs
- Utiliser React Query pour le cache et la synchronisation

## Structure des Fichiers

- `supabase/migrations/` : Migrations SQL (format: YYYYMMDDHHMMSS_description.sql)
- `src/services/` : Services API et logique métier
- `src/components/` : Composants React réutilisables
- `src/pages/` : Pages de l'application
- `docs/` : Documentation technique

## Tests et Vérifications

- Vérifier les linter errors après chaque modification
- Tester les fonctionnalités critiques en production après déploiement
- Documenter les changements majeurs dans `docs/`

## Vérification Automatique en Production

**IMPORTANT : Vérification Obligatoire après chaque Modification**

Après chaque commit et push vers `main`, je DOIS :
1. ✅ Vérifier que le site est accessible en production (https://invest-infinity-frontend.vercel.app)
2. ✅ Vérifier la page d'accueil se charge correctement
3. ✅ Vérifier les pages critiques (Tarifs, FAQ, etc.)
4. ✅ Vérifier la console navigateur pour les erreurs JavaScript
5. ✅ Tester les fonctionnalités modifiées si applicable
6. ✅ Informer l'utilisateur du résultat de la vérification

**Processus automatique :**
- Après chaque push → Vérifier immédiatement en production via MCP Browser
- Utiliser `mcp_cursor-browser-extension_browser_navigate` pour accéder au site
- Utiliser `mcp_cursor-browser-extension_browser_console_messages` pour vérifier les erreurs
- Utiliser `mcp_cursor-browser-extension_browser_snapshot` pour vérifier l'état de la page
- Tester les pages/fonctionnalités modifiées
- Documenter tout problème détecté

